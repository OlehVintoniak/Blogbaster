@using Org.BouncyCastle.Bcpg
@model IEnumerable<Blogbaster.Core.Data.Entities.Post>
@foreach (var post in Model)
{
    <a href="/Posts/Details/@post.Id">
        <div class="jumbotron post hovered-post" data-append="true">
            <div class="row">
                <div class="col-md-3">
                    @Html.Raw("<img style='width:200px; height:200px;' src=\"data:image/jpeg;base64,"
                                                  + Convert.ToBase64String(post.Image) + "\" />")
                    <span>Опубліковано: @post.DatePublished.Value.ToShortDateString()</span>

                </div>
                <div class="col-md-9">
                    @if (post.Title.Length > 50)
                    {
                        <h1 style="margin-top: 0;">@post.Title.Substring(0, 50)...</h1>
                    }
                    else
                    {
                        <h1 style="margin-top: 0;">@post.Title</h1>
                    }
                    <a href="@Url.Action("UserPostsPage", "Posts", new { userId = post.ApplicationUserId }, null)">
                        <p class="lead">
                            Автор - @post.ApplicationUser.UserName
                        </p>
                    </a>
                    <hr class="posthr" />
                    @if (post.Text != null && post.Text.Length > 100)
                    {
                        <p class="lead">@post.Text.Substring(0, 100)...</p>
                    }
                    else
                    {
                        <p class="lead">@post.Text</p>
                    }
                </div>
            </div>
        </div>
    </a>
}
